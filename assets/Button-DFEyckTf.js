var f=Object.defineProperty;var h=(r,e,t)=>e in r?f(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var u=(r,e,t)=>h(r,typeof e!="symbol"?e+"":e,t);import{r as s,R as y}from"./index-Cs7sjTYM.js";import{B as v}from"./Base-fHV16vWU.js";import{p as E}from"./polymorphic-factory-23vJzvkj.js";import{c as T}from"./clsx-B-dksMZM.js";let k=class{constructor(e){u(this,"KEY_SPACE",32);u(this,"DEBOUNCE_TIMEOUT_IN_SECONDS",1);this.$module=e,this.debounceFormSubmitTimer=null}handleKeyDown(e){const{target:t}=e;t.getAttribute("role")==="button"&&e.keyCode===this.KEY_SPACE&&(e.preventDefault(),t.click())}debounce(e){const{target:t}=e;if(t.getAttribute("data-prevent-double-click")==="true"){if(this.debounceFormSubmitTimer)return e.preventDefault(),!1;this.debounceFormSubmitTimer=setTimeout(()=>{this.debounceFormSubmitTimer=null},this.DEBOUNCE_TIMEOUT_IN_SECONDS*1e3)}}init(){this.$module.addEventListener("keydown",this.handleKeyDown.bind(this)),this.$module.addEventListener("click",this.debounce.bind(this))}};const B=({scope:r=document}={})=>{r.querySelectorAll('[data-module="nhsuk-button"]').forEach(t=>{new k(t).init()})},d=E(({className:r,children:e,variant:t="primary",disabled:a,preventDoubleClick:m,type:c="button",as:i="button",...p},b)=>{const n=s.useRef(null);s.useImperativeHandle(b,()=>n.current),s.useEffect(()=>{if(!n.current)return;const l=n.current.parentElement;l&&B({scope:l})},[n]);const o=i!=="button";return y.createElement(v,{as:i,className:T("nhsuk-button",{"nhsuk-button--secondary":t==="secondary","nhsuk-button--reverse":t==="reverse","nhsuk-button--disabled":a},r),"data-module":"nhsuk-button","data-prevent-double-click":m?"true":void 0,role:o?"button":void 0,draggable:o?"false":void 0,type:o?void 0:c,disabled:o||!a?void 0:!0,"aria-disabled":a?"true":void 0,...p,ref:n},e)});d.displayName="Button";d.__docgenInfo={description:"",methods:[],displayName:"Button",props:{variant:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | 'reverse'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'reverse'"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},preventDoubleClick:{required:!1,tsType:{name:"boolean"},description:""},type:{required:!1,tsType:{name:"union",raw:"'button' | 'submit' | 'reset'",elements:[{name:"literal",value:"'button'"},{name:"literal",value:"'submit'"},{name:"literal",value:"'reset'"}]},description:"",defaultValue:{value:"'button'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},as:{required:!1,tsType:{name:"TComponent"},description:"The component to render as.",defaultValue:{value:"'button'",computed:!1}}}};export{d as B};
