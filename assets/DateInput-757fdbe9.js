import{j as s}from"./jsx-runtime-94f6e698.js";import{F as H}from"./FormGroup-ed59bfc4.js";import{c as k}from"./clsx-1229b3e0.js";import{r as i}from"./index-8db94870.js";import{L as G}from"./Label-fb36fd45.js";const _=i.createContext({id:"",name:"",handleChange:()=>{},registerInput:()=>{}});_.displayName="DateInputContext";const U=()=>i.useContext(_),q={day:"Day",month:"Month",year:"Year"},z=({id:u,className:t,name:f,onChange:m,labelProps:y={},label:x,part:o,error:l,value:p,defaultValue:g,...D},I)=>{const{id:e,name:a,value:r,defaultValue:n,registerInput:h,handleChange:N}=U(),M=i.useCallback(d=>{d.persist(),m==null||m(d),d.isPropagationStopped()||N(o,d)},[]),j=I,Y=d=>{h(o,d),j==null||j(d)},$=p??(r==null?void 0:r[o]),E=g??(n==null?void 0:n[o]),b=u||`${e}-${o}`,L=f||`${a}-${o}`,T=`${b}--label`,{className:V,id:C,...S}=y;return s.jsx("div",{className:"nhsuk-date-input__item",children:s.jsxs("div",{className:"nhsuk-form-group",children:[s.jsx(G,{className:k("nhsuk-date-input__label",V),id:T,htmlFor:b,...S,children:x||q[o]}),s.jsx("input",{className:k("nhsuk-input nhsuk-date-input__input",{"nhsuk-input--width-2":o!=="year","nhsuk-input--width-4":o==="year","nhsuk-input--error":l||!1},t),id:b,value:$,defaultValue:E,"aria-labelledby":C||C,name:L,onChange:M,ref:Y,...D})]})})},w=i.forwardRef(z),P=i.forwardRef((u,t)=>s.jsx(w,{...u,part:"day",ref:t})),F=i.forwardRef((u,t)=>s.jsx(w,{...u,part:"month",ref:t})),R=i.forwardRef((u,t)=>s.jsx(w,{...u,part:"year",ref:t})),c=({children:u,value:t,defaultValue:f,autoSelectNext:m,onChange:y,...x})=>{const[,o]=i.useState({values:{day:(t==null?void 0:t.day)??"",month:(t==null?void 0:t.month)??"",year:(t==null?void 0:t.year)??""}});i.useEffect(()=>{o(e=>{if(!t||e.values.day===t.day&&e.values.month===t.month&&e.values.year===t.year)return e;const{day:a,month:r,year:n}=t;return{values:{day:a&&e.values.day!==a?a:e.values.day,month:r&&e.values.month!==r?r:e.values.month,year:n&&e.values.year!==n?n:e.values.year}}})},[t]);const l=i.useRef(null),p=i.useRef(null),g=(e,a)=>{var r,n;m&&(e==="day"&&a.length===2?(r=l==null?void 0:l.current)==null||r.focus():e==="month"&&a.length===2&&((n=p==null?void 0:p.current)==null||n.focus()))},D=(e,a)=>{switch(e){case"month":l.current=a;break;case"year":p.current=a;break}},I=(e,a)=>{g(e,a.target.value),a.stopPropagation(),o(r=>{const n={...r.values,[e]:a.target.value};if(y){const h={...a,target:{...a.target,value:n},currentTarget:{...a.currentTarget,value:n}};y(h)}return{values:n}})};return s.jsx(H,{...x,inputType:"dateinput",render:({id:e,name:a,className:r,error:n,...h})=>{const N={id:e,name:a,error:n,defaultValue:f,handleChange:I,registerInput:D};return s.jsx("div",{className:k("nhsuk-date-input",r),id:e,...h,children:s.jsx(_.Provider,{value:N,children:u||s.jsxs(s.Fragment,{children:[s.jsx(c.Day,{}),s.jsx(c.Month,{}),s.jsx(c.Year,{})]})})})}})};c.displayName="DateInput";P.displayName="DateInput.Day";F.displayName="DateInput.Month";R.displayName="DateInput.Year";c.Day=P;c.Month=F;c.Year=R;try{c.displayName="DateInput",c.__docgenInfo={description:`Use date input to help users enter a memorable date, like their date of birth.

For more information on when to use this component, go to the [HTN Digital service manual](https://service-manual.nhs.uk/design-system/components/date-input).`,displayName:"DateInput",props:{}}}catch{}export{c as D};
//# sourceMappingURL=DateInput-757fdbe9.js.map
