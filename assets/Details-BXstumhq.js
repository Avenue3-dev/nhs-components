import{r as c,R as o}from"./index-uCp2LrAq.js";import{c as p}from"./clsx-B-dksMZM.js";import{f as b}from"./factory-Dl037jXY.js";import{t as y}from"./common-fnmo4YYw.js";const A=({scope:e=document}={})=>{if(typeof document.createElement("details").open=="boolean")return;const n=e.querySelectorAll("details"),d=(t,r)=>{t.setAttribute("nhsuk-polyfilled","true"),t.id||t.setAttribute("id",`nhsuk-details${r}`);const a=e.querySelector(`#${t.id} .nhsuk-details__text`);a.id||a.setAttribute("id",`nhsuk-details__text${r}`);const s=e.querySelector(`#${t.id} .nhsuk-details__summary`);s.setAttribute("role","button"),s.setAttribute("aria-controls",a.id),s.setAttribute("tabIndex","0"),t.getAttribute("open")!==null===!0?(s.setAttribute("aria-expanded","true"),a.setAttribute("aria-hidden","false")):(s.setAttribute("aria-expanded","false"),a.setAttribute("aria-hidden","true"),a.style.display="none");const h=()=>{y(s,"aria-expanded"),y(a,"aria-hidden"),a.style.display=a.getAttribute("aria-hidden")==="true"?"none":"",t.hasAttribute("open")?t.removeAttribute("open"):t.setAttribute("open","open")};s.addEventListener("click",h),s.addEventListener("keydown",u=>{(u.keyCode===13||u.keyCode===32)&&(u.preventDefault(),s.click())})};n.length&&n.forEach((t,r)=>{t.hasAttribute("nhsuk-polyfilled")||d(t,r)})},l=b(({expander:e,className:i,...n},d)=>{const t=c.useRef(null);return c.useImperativeHandle(d,()=>t.current),c.useEffect(()=>{if(!t.current)return;const r=t.current.parentElement;r&&A({scope:r})},[t]),o.createElement("details",{className:p("nhsuk-details",{"nhsuk-expander":e},i),...n,ref:t})}),m=({className:e,children:i,...n})=>o.createElement("summary",{className:p("nhsuk-details__summary",e),...n},o.createElement("span",{className:"nhsuk-details__summary-text"},i)),f=({className:e,...i})=>o.createElement("div",{className:p("nhsuk-details__text",e),...i});l.displayName="Details";m.displayName="Details.Summary";f.displayName="Details.Text";l.Summary=m;l.Text=f;l.__docgenInfo={description:"",methods:[],displayName:"Details",props:{expander:{required:!1,tsType:{name:"boolean"},description:""}}};m.__docgenInfo={description:"",methods:[],displayName:"Details.Summary"};f.__docgenInfo={description:"",methods:[],displayName:"Details.Text"};export{l as D};
