import{j as t}from"./jsx-runtime-94f6e698.js";import{F as G}from"./FormGroup-7a85a743.js";import{c as m}from"./clsx-1229b3e0.js";import{r as n}from"./index-8db94870.js";import{g as P}from"./random-1d94713f.js";import{H as T}from"./Hint-57b83903.js";import{L as U}from"./Label-fb36fd45.js";const V=(c,{type:x,data:r})=>{switch(x){case"set_conditional":return{...c,conditional:r.hasConditional?c.conditional.filter(e=>e!==r.refId).concat(r.refId):c.conditional.filter(e=>e!==r.refId)}}},I=n.createContext({name:"",dispatch:()=>{},getCheckboxId:()=>"",leaseReference:()=>"",releaseReference:()=>{}});I.displayName="CheckboxesContext";const q=()=>n.useContext(I),z=({children:c,className:x,id:r,hint:e,hintProps:i,labelProps:h,conditional:l,forceShowConditional:b,conditionalWrapperProps:k,checked:a,defaultChecked:u,onChange:d,type:s="checkbox",...o},C)=>{const{name:_,getCheckboxId:N,leaseReference:R,releaseReference:w,dispatch:j}=q(),[f]=n.useState(R()),[F,y]=n.useState(!!(a||u)),g=r||N(f),{className:E,...S}=h||{},{className:H,...$}=i||{},{className:L,...D}=k||{};return n.useEffect(()=>()=>w(f),[]),n.useEffect(()=>{a!==void 0&&y(a)},[a]),n.useEffect(()=>(j({type:"set_conditional",data:{refId:f,hasConditional:!!l}}),()=>j({type:"set_conditional",data:{refId:f,hasConditional:!1}})),[l]),t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:m("nhsuk-checkboxes__item",x),children:[t.jsx("input",{className:"nhsuk-checkboxes__input",id:g,name:_,type:s,checked:a,defaultChecked:u,ref:C,onChange:B=>{a===void 0&&y(B.target.checked),d==null||d(B)},...o}),c&&t.jsx(U,{className:m("nhsuk-checkboxes__label",E),id:`${g}--label`,htmlFor:g,...S,children:c}),e&&t.jsx(T,{className:m("nhsuk-checkboxes__hint",H),...$,children:e})]}),l&&(F||b)&&t.jsx("div",{className:m("nhsuk-checkboxes__conditional",L),...D,children:l})]})},v=n.forwardRef(z),p=({children:c,idPrefix:x,...r})=>{let e={},i=[],h=0;const[l,b]=n.useReducer(V,{conditional:[]}),k=n.useCallback((s,o)=>(o in e||(h+=1,e[o]=`${x||s}-${h}`),e[o]),[]),a=()=>{const s=P();return i.includes(s)?a():(i.push(s),s)},u=s=>{i=i.filter(o=>o!==s)},d=()=>{e={},h=0};return t.jsx(G,{...r,inputType:"checkboxes",render:({id:s,name:o,className:C,..._})=>{d();const N={name:o,getCheckboxId:R=>k(s,R),leaseReference:a,releaseReference:u,dispatch:b};return t.jsx("div",{className:m("nhsuk-checkboxes",{"nhsuk-checkboxes--conditional":l.conditional.length>0},C),id:s,..._,children:t.jsx(I.Provider,{value:N,children:c})})}})};v.displayName="Checkboxes.Box";p.displayName="Checkboxes";p.Box=v;try{p.Box.displayName="Checkboxes.Box",p.Box.__docgenInfo={description:`Use checkboxes to let users select 1 or more options on a form.

For more information on when to use this component, got to the [NHS Digital service manual](https://service-manual.nhs.uk/design-system/components/checkboxes).`,displayName:"Checkboxes.Box",props:{}}}catch{}export{p as C};
//# sourceMappingURL=Checkboxes-0645233a.js.map
